function [xPos,yPos] = Reg_ACA_Top(X)
%segmentImage Segment image using auto-generated code from Image Segmenter app
%  [BW,MASKEDIMAGE] = segmentImage(X) segments image X using auto-generated
%  code from the Image Segmenter app. The final segmentation is returned in
%  BW, and a masked image is returned in MASKEDIMAGE.

% Auto-generated by imageSegmenter app on 30-Mar-2024
%----------------------------------------------------


% Adjust data to span data range.
X = imadjust(X);

% Create empty mask
BW = false(size(X,1),size(X,2));

% Draw ROIs

xPos = [241.9297 241.9297 241.9297 241.9329 241.9469 241.9700 241.9841 241.9872 241.9903 242.0044 242.0275 242.0415 242.0447 242.0447 242.0447 242.0415 242.0275 242.0044 241.9872 241.9700 241.9469 241.9297 241.9063 241.8520 241.7776 241.7201 241.6858 241.6532 241.6111 241.5617 241.5337 241.5243 241.5102 241.4871 241.4699 241.4527 241.4296 241.4124 241.3921 241.3550 241.3178 241.2975 241.2803 241.2572 241.2431 241.2369 241.2228 241.1966 241.1685 241.1422 241.1251 241.1079 241.0847 241.0707 241.0644 241.0504 241.0273 241.0101 240.9898 240.9526 240.9154 240.8952 240.8780 240.8548 240.8408 240.8377 240.8377 240.8377 240.8345 240.8205 240.7974 240.7833 240.7802 240.7802 240.7802 240.7802 240.7802 240.7802 240.7802 240.7865 240.8145 240.8639 240.9061 240.9355 240.9526 240.9729 241.0132 241.0676 241.1219 241.1654 241.1966 241.2260 241.2572 241.2975 241.3378 241.3690 241.3984 241.4265 241.4559 241.4871 241.5274 241.5646 241.5849 241.6052 241.6455 241.6967 241.7370 241.7573 241.7776 241.8148 241.8551 241.8863 241.9157 241.9500 242.0075 242.0819 242.1393 242.1799 242.2343 242.3009 242.3664 242.4533 242.5588 242.6598 242.7516 242.8556 242.9815 243.1196 243.2517 243.3838 243.5250 243.6649 243.7952 243.9151 244.0423 244.1682 244.2863 244.3981 244.4990 244.5877 244.6714 244.7429 244.8035 244.8579 244.9045 244.9528 245.0225 245.1050 245.1918 245.2743 245.3471 245.4095 245.4886 245.6054 245.7666 245.9296 246.0618 246.1658 246.2576 246.3585 246.4735 246.6087 246.7812 246.9877 247.2035 247.4181 247.6321 247.8564 248.1546 248.5174 248.8596 249.1574 249.3891 249.5710 249.7356 249.9255 250.1863 250.4794 250.7314 250.9629 251.2146 251.4768 251.7085 251.9135 252.1031 252.3020 252.5429 252.8222 253.1051 253.3766 253.6255 253.8708 254.1022 254.2900 254.4333 254.5839 254.7673 254.9737 255.1662 255.3123 255.4133 255.4739 255.5082 255.5345 255.5485 255.5516 255.5516 255.5516 255.5485 255.5282 255.4739 255.3964 255.3249 255.2643 255.2099 255.1633 255.1150 255.0484 254.9737 254.8819 254.7641 254.6461 254.5230 254.3696 254.2047 254.0419 253.8830 253.7205 253.5865 253.4653 253.3350 253.1808 252.9824 252.7899 252.6263 252.4448 252.2555 252.0921 251.9478 251.8188 251.7007 251.5858 251.4708 251.3559 251.2440 251.1400 251.0373 250.9304 250.8386 250.7468 250.6399 250.5372 250.4362 250.3416 250.2638 250.1860 250.0914 249.9936 249.9049 249.8212 249.7497 249.6828 249.5972 249.4872 249.3736 249.2636 249.1749 249.0971 249.0165 248.9419 248.8672 248.7866 248.7088 248.6201 248.5101 248.3965 248.2865 248.1947 248.1028 247.9960 247.8964 247.8095 247.7380 247.6805 247.6402 247.6168 247.5856 247.5393 247.5112 247.5049 247.5049 247.5049 247.5049 247.5049 247.5081 247.5252 247.5624 247.6027 247.6339 247.6633 247.6914 247.7208 247.7489 247.7752 247.7955 247.8298 247.8901 247.9413 247.9648 247.9819 248.0113 248.0566 248.1231 248.1915 248.2262 248.2553 248.3268 248.4105 248.4961 248.5767 248.6342 248.6748 248.7291 248.7926 248.8378 248.8672 248.8812 248.8844 248.8844 248.8812 248.8641 248.8269 248.7866 248.7554 248.7260 248.6916 248.6373 248.5739 248.5255 248.4789 248.4246 248.3702 248.3268 248.2924 248.2459 248.1775 248.0937 248.0051 247.9073 247.8126 247.7348 247.6602 247.5733 247.4706 247.3465 247.2207 247.0995 246.9611 246.7778 246.5622 246.3648 246.2001 246.0540 245.9065 245.7463 245.5710 245.4126 245.2693 245.1018 244.9185 244.7289 244.5333 244.3437 244.1604 243.9960 243.8699 243.7518 243.6309 243.5250 243.4210 243.3123 243.2114 243.1227 243.0389 242.9674 242.9037 242.8290 242.7313 242.6194 242.5076 242.4098 242.3352 242.2746 242.2171 242.1596 242.1022 242.0447 241.9903 241.9469 241.9126 241.8691 241.8179 241.7713 241.7230 241.6564 241.5911 241.5477 241.5305];
yPos = [176.1395 176.1798 176.2404 176.3291 176.4657 176.6617 176.8955 177.0838 177.2378 177.4180 177.6164 177.7766 177.8979 177.9988 178.0906 178.2009 178.3548 178.5392 178.6931 178.8034 178.9015 179.0274 179.1902 179.3975 179.6607 179.8939 180.0617 180.1860 180.3059 180.4422 180.5698 180.6893 180.8060 180.9301 181.0450 181.1540 181.2812 181.4242 181.5795 181.7316 181.8669 182.0021 182.1542 182.3095 182.4588 182.6109 182.7521 182.8814 183.0367 183.2088 183.3581 183.4996 183.6658 183.8505 184.0387 184.2294 184.3896 184.5373 184.7489 185.0908 185.5027 185.8248 186.0626 186.2660 186.4275 186.5568 186.7105 186.9219 187.1810 187.4327 187.6517 187.8413 188.0137 188.1721 188.3214 188.4798 188.6491 188.8246 189.0111 189.2161 189.4540 189.7474 190.0657 190.3702 190.6608 190.9481 191.2418 191.5572 191.8846 192.1720 192.4100 192.6241 192.8155 193.0001 193.1663 193.3078 193.4508 193.5980 193.7273 193.8829 194.0890 194.2846 194.4514 194.6532 194.9031 195.1720 195.4279 195.6175 195.7499 195.8802 196.0201 196.1645 196.3137 196.4862 196.6849 196.8994 197.1213 197.3218 197.4942 197.6385 197.7647 197.9090 198.0689 198.2102 198.3223 198.4435 198.5925 198.7478 198.9002 199.0726 199.2651 199.4484 199.6068 199.7452 199.8913 200.0526 200.1956 200.3168 200.4286 200.5295 200.6182 200.7020 200.7735 200.8372 200.9087 200.9925 201.0749 201.1477 201.2101 201.2830 201.3654 201.4523 201.5410 201.6450 201.7677 201.8918 201.9945 202.0814 202.1592 202.2447 202.3376 202.4171 202.5103 202.6299 202.7539 202.8567 202.9467 203.0322 203.1160 203.1875 203.2450 203.2853 203.3024 203.3056 203.3056 203.3056 203.3056 203.3056 203.3056 203.3024 203.2884 203.2621 203.2341 203.2047 203.1766 203.1503 203.1331 203.1160 203.0897 203.0585 203.0151 202.9576 202.8861 202.8023 202.7105 202.5924 202.4309 202.2101 201.9261 201.6390 201.4011 201.1961 201.0128 200.8512 200.7020 200.5404 200.3602 200.1693 199.9670 199.7470 199.5447 199.3600 199.2079 199.0989 199.0089 198.9171 198.8052 198.6843 198.5785 198.4744 198.3657 198.2679 198.1964 198.1467 198.1015 198.0458 197.9897 197.9371 197.9059 197.8856 197.8593 197.8281 197.7878 197.7475 197.7132 197.6666 197.5982 197.5207 197.4633 197.4258 197.3824 197.3312 197.2877 197.2565 197.2271 197.1959 197.1525 197.1012 197.0578 197.0235 196.9800 196.9257 196.8682 196.8107 196.7501 196.6755 196.5746 196.4518 196.3278 196.2219 196.1179 195.9967 195.8365 195.6349 195.4344 195.2417 195.0430 194.8425 194.6438 194.4573 194.2818 194.1062 193.9103 193.6695 193.3871 193.0776 192.7299 192.3791 192.0524 191.7140 191.3424 190.9265 190.4865 190.0491 189.7059 189.4630 189.1668 188.7367 188.3464 188.0462 187.7904 187.5788 187.3450 187.0356 186.7446 186.4647 186.1576 185.8765 185.6431 185.4070 185.1461 184.8900 184.6551 184.4239 184.1828 183.8954 183.5711 183.2791 183.0570 182.8874 182.7165 182.4988 182.2226 181.9337 181.7894 181.6682 181.4036 181.0822 180.7317 180.4253 180.1503 179.8486 179.4791 179.1086 178.8394 178.6482 178.4789 178.3236 178.1884 178.0531 177.9010 177.7520 177.6308 177.5155 177.3603 177.1710 176.9845 176.8089 176.6334 176.4469 176.2545 176.0883 175.9671 175.8753 175.7915 175.7169 175.6391 175.5413 175.4326 175.3348 175.2571 175.1824 175.1049 175.0475 175.0100 174.9666 174.9091 174.8376 174.7570 174.6886 174.6451 174.6248 174.6077 174.5845 174.5705 174.5674 174.5674 174.5705 174.5845 174.6171 174.6795 174.7864 174.9122 175.0412 175.1590 175.2368 175.2914 175.3580 175.4264 175.4870 175.5445 175.5988 175.6391 175.6594 175.6766 175.7028 175.7341 175.7775 175.8318 175.8862 175.9296 175.9640 176.0043 176.0446 176.0758 176.1021 176.1161 176.1224 176.1364 176.1595 176.1767 176.1970 176.2342 176.2745 176.3057 176.3351 176.3632 176.3894];
m = size(BW, 1);
n = size(BW, 2);
addedRegion = poly2mask(xPos, yPos, m, n);
BW = BW | addedRegion;

% Active contour
iterations = 5;
BW = activecontour(X, BW, iterations, 'edge');

% Create masked image.
maskedImage = X;
maskedImage(~BW) = 0;
end

